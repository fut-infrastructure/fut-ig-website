<?xml version="1.0" encoding="UTF-8"?>

<CapabilityStatement xmlns="http://hl7.org/fhir">
  <id value="careplan"/>
  <text>
    <status value="generated"/><div xmlns="http://www.w3.org/1999/xhtml">careplan</div>
  </text>
  <url value="http://ehealth.sundhed.dk/fhir/CapabilityStatement/careplan"/>
  <version value="4.0.0"/>
  <name value="careplan"/>
  <status value="active"/>
  <date value="2025-08-07T08:59:49.764+00:00"/>
  <publisher value="Den telemedicinske infrastruktur (eHealth Infrastructure)"/>
  <contact>
    <name value="Den telemedicinske infrastruktur (eHealth Infrastructure)"/>
    <telecom>
      <system value="url"/>
      <value value="http://ehealth.sundhed.dk"/>
    </telecom>
  </contact>
  <jurisdiction>
    <coding>
      <system value="urn:iso:std:iso:3166"/>
      <code value="DK"/>
      <display value="Denmark"/>
    </coding>
  </jurisdiction>
  <kind value="instance"/>
  <software>
    <name value="careplan"/>
    <version value="1.30.0"/>
  </software>
  <implementation>
    <description value="eHealth careplan service"/>
    <url value="https://careplan.devtest.systematic-ehealth.com/fhir"/>
  </implementation>
  <fhirVersion value="4.0.1"/>
  <format value="application/fhir+xml"/>
  <format value="xml"/>
  <format value="application/fhir+json"/>
  <format value="json"/>
  <format value="application/x-turtle"/>
  <format value="ttl"/>
  <format value="html/json"/>
  <format value="html/xml"/>
  <format value="html/turtle"/>
  <rest>
    <mode value="server"/>
    <resource>
      <type value="CarePlan"/>
      <profile value="http://ehealth.sundhed.dk/fhir/StructureDefinition/ehealth-careplan"/>
      <interaction>
        <code value="update"/>
      </interaction>
      <interaction>
        <code value="search-type"/>
      </interaction>
      <interaction>
        <code value="vread"/>
      </interaction>
      <interaction>
        <code value="read"/>
      </interaction>
      <conditionalUpdate value="true"/>
      <searchInclude value="CarePlan:activity-reference"/>
      <searchInclude value="CarePlan:condition"/>
      <searchInclude value="CarePlan:episodeOfCare"/>
      <searchInclude value="CarePlan:goal"/>
      <searchInclude value="CarePlan:part-of"/>
      <searchRevInclude value="CarePlan:activity-reference"/>
      <searchRevInclude value="CarePlan:care-team"/>
      <searchRevInclude value="CarePlan:condition"/>
      <searchRevInclude value="CarePlan:episodeOfCare"/>
      <searchRevInclude value="CarePlan:goal"/>
      <searchRevInclude value="CarePlan:instantiates-canonical"/>
      <searchRevInclude value="CarePlan:part-of"/>
      <searchRevInclude value="CarePlan:participant-actor"/>
      <searchRevInclude value="CarePlan:patient"/>
      <searchRevInclude value="CommunicationRequest:based-on"/>
      <searchRevInclude value="CommunicationRequest:encounter"/>
      <searchRevInclude value="CommunicationRequest:episodeOfCare"/>
      <searchRevInclude value="CommunicationRequest:patient"/>
      <searchRevInclude value="CommunicationRequest:recipient"/>
      <searchRevInclude value="CommunicationRequest:replaces"/>
      <searchRevInclude value="CommunicationRequest:requester"/>
      <searchRevInclude value="CommunicationRequest:sender"/>
      <searchRevInclude value="CommunicationRequest:subject"/>
      <searchRevInclude value="Consent:actor"/>
      <searchRevInclude value="Consent:data"/>
      <searchRevInclude value="Consent:patient"/>
      <searchRevInclude value="EpisodeOfCare:condition"/>
      <searchRevInclude value="EpisodeOfCare:organization"/>
      <searchRevInclude value="EpisodeOfCare:participant-actor"/>
      <searchRevInclude value="EpisodeOfCare:patient"/>
      <searchRevInclude value="EpisodeOfCare:team"/>
      <searchRevInclude value="Goal:addresses"/>
      <searchRevInclude value="Goal:patient"/>
      <searchRevInclude value="Goal:subject"/>
      <searchRevInclude value="Provenance:target"/>
      <searchParam>
        <name value="_id"/>
        <type value="token"/>
        <documentation value="The ID of the resource"/>
      </searchParam>
      <searchParam>
        <name value="_lastUpdated"/>
        <type value="date"/>
        <documentation value="Only return resources which were last updated as specified by the given range"/>
      </searchParam>
      <searchParam>
        <name value="_tag"/>
        <type value="token"/>
        <documentation value="Search for resources which have the given tag"/>
      </searchParam>
      <searchParam>
        <name value="activity-reference"/>
        <type value="reference"/>
        <documentation value="Activity details defined in specific resource"/>
      </searchParam>
      <searchParam>
        <name value="care-team"/>
        <type value="reference"/>
        <documentation value="Who's involved in plan?"/>
      </searchParam>
      <searchParam>
        <name value="category"/>
        <type value="token"/>
        <documentation value="Type of plan"/>
      </searchParam>
      <searchParam>
        <name value="condition"/>
        <type value="reference"/>
        <documentation value="Health issues this plan addresses"/>
      </searchParam>
      <searchParam>
        <name value="date"/>
        <type value="date"/>
        <documentation value="Time period plan covers"/>
      </searchParam>
      <searchParam>
        <name value="episodeOfCare"/>
        <type value="reference"/>
        <documentation value="EpisodeOfCare"/>
      </searchParam>
      <searchParam>
        <name value="goal"/>
        <type value="reference"/>
        <documentation value="Goal of the care plan"/>
      </searchParam>
      <searchParam>
        <name value="identifier"/>
        <type value="token"/>
        <documentation value="External Ids for this plan"/>
      </searchParam>
      <searchParam>
        <name value="instantiates-canonical"/>
        <type value="reference"/>
        <documentation value="Instantiates FHIR protocol or definition"/>
      </searchParam>
      <searchParam>
        <name value="part-of"/>
        <type value="reference"/>
        <documentation value="Part of referenced CarePlan"/>
      </searchParam>
      <searchParam>
        <name value="participant-actor"/>
        <type value="reference"/>
        <documentation value="Reference to the participant"/>
      </searchParam>
      <searchParam>
        <name value="participant-function"/>
        <type value="token"/>
        <documentation value="The role of the participant"/>
      </searchParam>
      <searchParam>
        <name value="participant-function-actor"/>
        <type value="composite"/>
        <documentation value="A Participant with a specific function and actor"/>
      </searchParam>
      <searchParam>
        <name value="patient"/>
        <type value="reference"/>
        <documentation value="Who care plan is for"/>
      </searchParam>
      <searchParam>
        <name value="status"/>
        <type value="token"/>
        <documentation value="draft | active | suspended | completed | entered-in-error | cancelled | unknown"/>
      </searchParam>
      <searchParam>
        <name value="status-history-end-time"/>
        <type value="date"/>
        <documentation value="end time of historic status change"/>
      </searchParam>
      <searchParam>
        <name value="status-history-start-time"/>
        <type value="date"/>
        <documentation value="start time of historic status change"/>
      </searchParam>
      <searchParam>
        <name value="status-history-status"/>
        <type value="token"/>
        <documentation value="status of historic status change"/>
      </searchParam>
      <searchParam>
        <name value="status-scheduled-status"/>
        <type value="token"/>
        <documentation value="Scheduled status for status change"/>
      </searchParam>
      <searchParam>
        <name value="status-scheduled-time"/>
        <type value="date"/>
        <documentation value="Scheduled time for status change"/>
      </searchParam>
      <searchParam>
        <name value="team-scheduled-time"/>
        <type value="date"/>
        <documentation value="Scheduled time for team change"/>
      </searchParam>
      <operation>
        <name value="validate"/>
        <definition value="https://careplan.devtest.systematic-ehealth.com/fhir/OperationDefinition/Multi-it-validate"/>
      </operation>
      <operation>
        <name value="update-care-teams"/>
        <definition value="https://careplan.devtest.systematic-ehealth.com/fhir/OperationDefinition/CarePlanEpisodeOfCare-i-update-care-teams"/>
        <documentation value="The operation modifies the care team assignment of the care plan and all of its sub plans."/>
      </operation>
      <operation>
        <name value="suggest-care-teams"/>
        <definition value="https://careplan.devtest.systematic-ehealth.com/fhir/OperationDefinition/CarePlan-i-suggest-care-teams"/>
        <documentation value="Suggest care teams matching the conditions required by the care plan on either a regional or a municipality level. The suggested care teams has reason codes matching all the conditions addressed by the care plan and has a managing organization matching the input region code or municipality code. One of region code or municipality code must be input. If both region code and municipality code is input, then the municipality code is ignored. Return a bundle with matching care teams and their managing organizations."/>
      </operation>
    </resource>
    <resource>
      <type value="CommunicationRequest"/>
      <profile value="http://ehealth.sundhed.dk/fhir/StructureDefinition/ehealth-communication-request"/>
      <interaction>
        <code value="update"/>
      </interaction>
      <interaction>
        <code value="search-type"/>
      </interaction>
      <interaction>
        <code value="vread"/>
      </interaction>
      <interaction>
        <code value="read"/>
      </interaction>
      <interaction>
        <code value="delete"/>
      </interaction>
      <interaction>
        <code value="create"/>
      </interaction>
      <conditionalCreate value="true"/>
      <conditionalUpdate value="true"/>
      <searchInclude value="CommunicationRequest:based-on"/>
      <searchInclude value="CommunicationRequest:context"/>
      <searchRevInclude value="CarePlan:activity-reference"/>
      <searchRevInclude value="CarePlan:care-team"/>
      <searchRevInclude value="CarePlan:condition"/>
      <searchRevInclude value="CarePlan:episodeOfCare"/>
      <searchRevInclude value="CarePlan:goal"/>
      <searchRevInclude value="CarePlan:instantiates-canonical"/>
      <searchRevInclude value="CarePlan:part-of"/>
      <searchRevInclude value="CarePlan:participant-actor"/>
      <searchRevInclude value="CarePlan:patient"/>
      <searchRevInclude value="CommunicationRequest:based-on"/>
      <searchRevInclude value="CommunicationRequest:encounter"/>
      <searchRevInclude value="CommunicationRequest:episodeOfCare"/>
      <searchRevInclude value="CommunicationRequest:patient"/>
      <searchRevInclude value="CommunicationRequest:recipient"/>
      <searchRevInclude value="CommunicationRequest:replaces"/>
      <searchRevInclude value="CommunicationRequest:requester"/>
      <searchRevInclude value="CommunicationRequest:sender"/>
      <searchRevInclude value="CommunicationRequest:subject"/>
      <searchRevInclude value="Consent:actor"/>
      <searchRevInclude value="Consent:data"/>
      <searchRevInclude value="Consent:patient"/>
      <searchRevInclude value="EpisodeOfCare:condition"/>
      <searchRevInclude value="EpisodeOfCare:organization"/>
      <searchRevInclude value="EpisodeOfCare:participant-actor"/>
      <searchRevInclude value="EpisodeOfCare:patient"/>
      <searchRevInclude value="EpisodeOfCare:team"/>
      <searchRevInclude value="Goal:addresses"/>
      <searchRevInclude value="Goal:patient"/>
      <searchRevInclude value="Goal:subject"/>
      <searchRevInclude value="Provenance:target"/>
      <searchParam>
        <name value="_content"/>
        <type value="string"/>
        <documentation value="Search the contents of the resource's data using a fulltext search"/>
      </searchParam>
      <searchParam>
        <name value="_has"/>
        <type value="string"/>
        <documentation value="Return resources linked to by the given target"/>
      </searchParam>
      <searchParam>
        <name value="_id"/>
        <type value="token"/>
        <documentation value="The ID of the resource"/>
      </searchParam>
      <searchParam>
        <name value="_language"/>
        <type value="string"/>
        <documentation value="The language of the resource"/>
      </searchParam>
      <searchParam>
        <name value="_lastUpdated"/>
        <type value="date"/>
        <documentation value="Only return resources which were last updated as specified by the given range"/>
      </searchParam>
      <searchParam>
        <name value="_profile"/>
        <type value="uri"/>
        <documentation value="Search for resources which have the given profile"/>
      </searchParam>
      <searchParam>
        <name value="_security"/>
        <type value="token"/>
        <documentation value="Search for resources which have the given security labels"/>
      </searchParam>
      <searchParam>
        <name value="_tag"/>
        <type value="token"/>
        <documentation value="Search for resources which have the given tag"/>
      </searchParam>
      <searchParam>
        <name value="_text"/>
        <type value="string"/>
        <documentation value="Search the contents of the resource's narrative using a fulltext search"/>
      </searchParam>
      <searchParam>
        <name value="authored"/>
        <type value="date"/>
        <documentation value="When request transitioned to being actionable"/>
      </searchParam>
      <searchParam>
        <name value="based-on"/>
        <type value="reference"/>
        <documentation value="Fulfills plan or proposal"/>
      </searchParam>
      <searchParam>
        <name value="category"/>
        <type value="token"/>
        <documentation value="Message category"/>
      </searchParam>
      <searchParam>
        <name value="encounter"/>
        <type value="reference"/>
        <documentation value="Encounter leading to message"/>
      </searchParam>
      <searchParam>
        <name value="episodeOfCare"/>
        <type value="reference"/>
        <documentation value="Episode leading to message"/>
      </searchParam>
      <searchParam>
        <name value="group-identifier"/>
        <type value="token"/>
        <documentation value="Composite request this is part of"/>
      </searchParam>
      <searchParam>
        <name value="identifier"/>
        <type value="token"/>
        <documentation value="Unique identifier"/>
      </searchParam>
      <searchParam>
        <name value="medium"/>
        <type value="token"/>
        <documentation value="A channel of communication"/>
      </searchParam>
      <searchParam>
        <name value="occurrence"/>
        <type value="date"/>
        <documentation value="When scheduled"/>
      </searchParam>
      <searchParam>
        <name value="patient"/>
        <type value="reference"/>
        <documentation value="Focus of message"/>
      </searchParam>
      <searchParam>
        <name value="priority"/>
        <type value="token"/>
        <documentation value="Message urgency"/>
      </searchParam>
      <searchParam>
        <name value="reasonCode"/>
        <type value="token"/>
        <documentation value="ReasonCode"/>
      </searchParam>
      <searchParam>
        <name value="recipient"/>
        <type value="reference"/>
        <documentation value="Message recipient"/>
      </searchParam>
      <searchParam>
        <name value="replaces"/>
        <type value="reference"/>
        <documentation value="Request(s) replaced by this request"/>
      </searchParam>
      <searchParam>
        <name value="requester"/>
        <type value="reference"/>
        <documentation value="Individual making the request"/>
      </searchParam>
      <searchParam>
        <name value="sender"/>
        <type value="reference"/>
        <documentation value="Message sender"/>
      </searchParam>
      <searchParam>
        <name value="status"/>
        <type value="token"/>
        <documentation value="draft | active | suspended | cancelled | completed | entered-in-error | unknown"/>
      </searchParam>
      <searchParam>
        <name value="subject"/>
        <type value="reference"/>
        <documentation value="Focus of message"/>
      </searchParam>
      <operation>
        <name value="validate"/>
        <definition value="https://careplan.devtest.systematic-ehealth.com/fhir/OperationDefinition/Multi-it-validate"/>
      </operation>
    </resource>
    <resource>
      <type value="Condition"/>
      <profile value="http://hl7.org/fhir/StructureDefinition/Condition"/>
      <interaction>
        <code value="vread"/>
      </interaction>
      <interaction>
        <code value="read"/>
      </interaction>
      <interaction>
        <code value="patch"/>
      </interaction>
      <interaction>
        <code value="create"/>
      </interaction>
      <conditionalCreate value="true"/>
      <searchInclude value="*"/>
      <searchRevInclude value="CarePlan:activity-reference"/>
      <searchRevInclude value="CarePlan:care-team"/>
      <searchRevInclude value="CarePlan:condition"/>
      <searchRevInclude value="CarePlan:episodeOfCare"/>
      <searchRevInclude value="CarePlan:goal"/>
      <searchRevInclude value="CarePlan:instantiates-canonical"/>
      <searchRevInclude value="CarePlan:part-of"/>
      <searchRevInclude value="CarePlan:participant-actor"/>
      <searchRevInclude value="CarePlan:patient"/>
      <searchRevInclude value="CommunicationRequest:based-on"/>
      <searchRevInclude value="CommunicationRequest:encounter"/>
      <searchRevInclude value="CommunicationRequest:episodeOfCare"/>
      <searchRevInclude value="CommunicationRequest:patient"/>
      <searchRevInclude value="CommunicationRequest:recipient"/>
      <searchRevInclude value="CommunicationRequest:replaces"/>
      <searchRevInclude value="CommunicationRequest:requester"/>
      <searchRevInclude value="CommunicationRequest:sender"/>
      <searchRevInclude value="CommunicationRequest:subject"/>
      <searchRevInclude value="Consent:actor"/>
      <searchRevInclude value="Consent:data"/>
      <searchRevInclude value="Consent:patient"/>
      <searchRevInclude value="EpisodeOfCare:condition"/>
      <searchRevInclude value="EpisodeOfCare:organization"/>
      <searchRevInclude value="EpisodeOfCare:participant-actor"/>
      <searchRevInclude value="EpisodeOfCare:patient"/>
      <searchRevInclude value="EpisodeOfCare:team"/>
      <searchRevInclude value="Goal:addresses"/>
      <searchRevInclude value="Goal:patient"/>
      <searchRevInclude value="Goal:subject"/>
      <searchRevInclude value="Provenance:target"/>
      <operation>
        <name value="validate"/>
        <definition value="https://careplan.devtest.systematic-ehealth.com/fhir/OperationDefinition/Multi-it-validate"/>
      </operation>
    </resource>
    <resource>
      <type value="Consent"/>
      <profile value="http://ehealth.sundhed.dk/fhir/StructureDefinition/ehealth-consent"/>
      <interaction>
        <code value="update"/>
      </interaction>
      <interaction>
        <code value="search-type"/>
      </interaction>
      <interaction>
        <code value="vread"/>
      </interaction>
      <interaction>
        <code value="read"/>
      </interaction>
      <interaction>
        <code value="create"/>
      </interaction>
      <conditionalCreate value="true"/>
      <conditionalUpdate value="true"/>
      <searchRevInclude value="CarePlan:activity-reference"/>
      <searchRevInclude value="CarePlan:care-team"/>
      <searchRevInclude value="CarePlan:condition"/>
      <searchRevInclude value="CarePlan:episodeOfCare"/>
      <searchRevInclude value="CarePlan:goal"/>
      <searchRevInclude value="CarePlan:instantiates-canonical"/>
      <searchRevInclude value="CarePlan:part-of"/>
      <searchRevInclude value="CarePlan:participant-actor"/>
      <searchRevInclude value="CarePlan:patient"/>
      <searchRevInclude value="CommunicationRequest:based-on"/>
      <searchRevInclude value="CommunicationRequest:encounter"/>
      <searchRevInclude value="CommunicationRequest:episodeOfCare"/>
      <searchRevInclude value="CommunicationRequest:patient"/>
      <searchRevInclude value="CommunicationRequest:recipient"/>
      <searchRevInclude value="CommunicationRequest:replaces"/>
      <searchRevInclude value="CommunicationRequest:requester"/>
      <searchRevInclude value="CommunicationRequest:sender"/>
      <searchRevInclude value="CommunicationRequest:subject"/>
      <searchRevInclude value="Consent:actor"/>
      <searchRevInclude value="Consent:data"/>
      <searchRevInclude value="Consent:patient"/>
      <searchRevInclude value="EpisodeOfCare:condition"/>
      <searchRevInclude value="EpisodeOfCare:organization"/>
      <searchRevInclude value="EpisodeOfCare:participant-actor"/>
      <searchRevInclude value="EpisodeOfCare:patient"/>
      <searchRevInclude value="EpisodeOfCare:team"/>
      <searchRevInclude value="Goal:addresses"/>
      <searchRevInclude value="Goal:patient"/>
      <searchRevInclude value="Goal:subject"/>
      <searchRevInclude value="Provenance:target"/>
      <searchParam>
        <name value="data"/>
        <type value="reference"/>
        <documentation value="The actual data reference"/>
      </searchParam>
      <searchParam>
        <name value="_tag"/>
        <type value="token"/>
        <documentation value="Search for resources which have the given tag"/>
      </searchParam>
      <searchParam>
        <name value="actor"/>
        <type value="reference"/>
        <documentation value="Resource for the actor (or group, by role)"/>
      </searchParam>
      <searchParam>
        <name value="category"/>
        <type value="token"/>
        <documentation value="Classification of the consent statement - for indexing/retrieval"/>
      </searchParam>
      <searchParam>
        <name value="identifier"/>
        <type value="token"/>
        <documentation value="Identifier for this record (external references)"/>
      </searchParam>
      <searchParam>
        <name value="patient"/>
        <type value="reference"/>
        <documentation value="Who the consent applies to"/>
      </searchParam>
      <searchParam>
        <name value="period"/>
        <type value="date"/>
        <documentation value="Period that this consent applies"/>
      </searchParam>
      <searchParam>
        <name value="status"/>
        <type value="token"/>
        <documentation value="draft | proposed | active | rejected | inactive | entered-in-error"/>
      </searchParam>
      <operation>
        <name value="validate"/>
        <definition value="https://careplan.devtest.systematic-ehealth.com/fhir/OperationDefinition/Multi-it-validate"/>
      </operation>
    </resource>
    <resource>
      <type value="EpisodeOfCare"/>
      <profile value="http://ehealth.sundhed.dk/fhir/StructureDefinition/ehealth-episodeofcare"/>
      <interaction>
        <code value="search-type"/>
      </interaction>
      <interaction>
        <code value="vread"/>
      </interaction>
      <interaction>
        <code value="read"/>
      </interaction>
      <interaction>
        <code value="patch"/>
      </interaction>
      <searchInclude value="EpisodeOfCare:condition"/>
      <searchRevInclude value="CarePlan:episodeOfCare"/>
      <searchParam>
        <name value="_tag"/>
        <type value="token"/>
        <documentation value="Search for resources which have the given tag"/>
      </searchParam>
      <searchParam>
        <name value="condition"/>
        <type value="reference"/>
        <documentation value="Conditions/problems/diagnoses this episode of care is for"/>
      </searchParam>
      <searchParam>
        <name value="identifier"/>
        <type value="token"/>
        <documentation value="Business Identifier(s) relevant for this EpisodeOfCare"/>
      </searchParam>
      <searchParam>
        <name value="organization"/>
        <type value="reference"/>
        <documentation value="The organization that has assumed the specific responsibilities of this EpisodeOfCare"/>
      </searchParam>
      <searchParam>
        <name value="participant-actor"/>
        <type value="reference"/>
        <documentation value="The reference to the actor"/>
      </searchParam>
      <searchParam>
        <name value="participant-function"/>
        <type value="token"/>
        <documentation value="The role of the participant"/>
      </searchParam>
      <searchParam>
        <name value="participant-function-actor"/>
        <type value="composite"/>
        <documentation value="A Participant with a specific function and actor"/>
      </searchParam>
      <searchParam>
        <name value="patient"/>
        <type value="reference"/>
        <documentation value="The patient who is the focus of this episode of care"/>
      </searchParam>
      <searchParam>
        <name value="status"/>
        <type value="token"/>
        <documentation value="The current status of the Episode of Care as provided (does not check the status history collection)"/>
      </searchParam>
      <searchParam>
        <name value="status-scheduled-time"/>
        <type value="date"/>
        <documentation value="Scheduled time for status change"/>
      </searchParam>
      <searchParam>
        <name value="team"/>
        <type value="reference"/>
        <documentation value="The list of practitioners that may be facilitating this episode of care for specific purposes."/>
      </searchParam>
      <searchParam>
        <name value="team-scheduled-time"/>
        <type value="date"/>
        <documentation value="Scheduled time for team change"/>
      </searchParam>
      <operation>
        <name value="validate"/>
        <definition value="https://careplan.devtest.systematic-ehealth.com/fhir/OperationDefinition/Multi-it-validate"/>
      </operation>
      <operation>
        <name value="update-care-teams"/>
        <definition value="https://careplan.devtest.systematic-ehealth.com/fhir/OperationDefinition/CarePlanEpisodeOfCare-i-update-care-teams"/>
        <documentation value="Modify the care team assignment of the episode of care and all care plans that has the episode of care as context."/>
      </operation>
      <operation>
        <name value="is-context-allowed"/>
        <definition value="https://careplan.devtest.systematic-ehealth.com/fhir/OperationDefinition/EpisodeOfCare-i-is-context-allowed"/>
        <documentation value="Checks that it is allowed to set an EpisodeOfCare as context.&#xD;&#xA;If the user requesting context is a patient, then the patient input parameter should be specified.&#xD;&#xA;If the user requesting context is a practitioner, then the careTeam input parameter should be specified.&#xD;&#xA;Throws an exception if it is not allowed to select the Episode Of Care context.&#xD;&#xA;## Output&#xD;&#xA;For valid Episode of Care is returned references that cause the Episode of Care to be valid context. &#xD;&#xA;For a practitioner, two output parameters will be returned on success:&#xD;&#xA;- CareTeam: The Careteam that gave access&#xD;&#xA;- EpisodeOfCare/CarePlan: The EpisodeOfCare or CarePlan that referenced the CareTeam"/>
      </operation>
    </resource>
    <resource>
      <type value="Goal"/>
      <profile value="http://ehealth.sundhed.dk/fhir/StructureDefinition/ehealth-goal"/>
      <interaction>
        <code value="update"/>
      </interaction>
      <interaction>
        <code value="search-type"/>
      </interaction>
      <interaction>
        <code value="vread"/>
      </interaction>
      <interaction>
        <code value="read"/>
      </interaction>
      <interaction>
        <code value="create"/>
      </interaction>
      <conditionalCreate value="true"/>
      <conditionalUpdate value="true"/>
      <searchInclude value="*"/>
      <searchInclude value="Goal:patient"/>
      <searchInclude value="Goal:subject"/>
      <searchRevInclude value="CarePlan:activity-reference"/>
      <searchRevInclude value="CarePlan:care-team"/>
      <searchRevInclude value="CarePlan:condition"/>
      <searchRevInclude value="CarePlan:episodeOfCare"/>
      <searchRevInclude value="CarePlan:goal"/>
      <searchRevInclude value="CarePlan:instantiates-canonical"/>
      <searchRevInclude value="CarePlan:part-of"/>
      <searchRevInclude value="CarePlan:participant-actor"/>
      <searchRevInclude value="CarePlan:patient"/>
      <searchRevInclude value="CommunicationRequest:based-on"/>
      <searchRevInclude value="CommunicationRequest:encounter"/>
      <searchRevInclude value="CommunicationRequest:episodeOfCare"/>
      <searchRevInclude value="CommunicationRequest:patient"/>
      <searchRevInclude value="CommunicationRequest:recipient"/>
      <searchRevInclude value="CommunicationRequest:replaces"/>
      <searchRevInclude value="CommunicationRequest:requester"/>
      <searchRevInclude value="CommunicationRequest:sender"/>
      <searchRevInclude value="CommunicationRequest:subject"/>
      <searchRevInclude value="Consent:actor"/>
      <searchRevInclude value="Consent:data"/>
      <searchRevInclude value="Consent:patient"/>
      <searchRevInclude value="EpisodeOfCare:condition"/>
      <searchRevInclude value="EpisodeOfCare:organization"/>
      <searchRevInclude value="EpisodeOfCare:participant-actor"/>
      <searchRevInclude value="EpisodeOfCare:patient"/>
      <searchRevInclude value="EpisodeOfCare:team"/>
      <searchRevInclude value="Goal:addresses"/>
      <searchRevInclude value="Goal:patient"/>
      <searchRevInclude value="Goal:subject"/>
      <searchRevInclude value="Provenance:target"/>
      <searchParam>
        <name value="_content"/>
        <type value="string"/>
        <documentation value="Search the contents of the resource's data using a fulltext search"/>
      </searchParam>
      <searchParam>
        <name value="_filter"/>
        <type value="string"/>
        <documentation value="Search the contents of the resource's data using a filter"/>
      </searchParam>
      <searchParam>
        <name value="_has"/>
        <type value="string"/>
        <documentation value="Return resources linked to by the given target"/>
      </searchParam>
      <searchParam>
        <name value="_id"/>
        <type value="token"/>
        <documentation value="The ID of the resource"/>
      </searchParam>
      <searchParam>
        <name value="_language"/>
        <type value="string"/>
        <documentation value="The language of the resource"/>
      </searchParam>
      <searchParam>
        <name value="_lastUpdated"/>
        <type value="date"/>
        <documentation value="Only return resources which were last updated as specified by the given range"/>
      </searchParam>
      <searchParam>
        <name value="_profile"/>
        <type value="uri"/>
        <documentation value="Search for resources which have the given profile"/>
      </searchParam>
      <searchParam>
        <name value="_security"/>
        <type value="token"/>
        <documentation value="Search for resources which have the given security labels"/>
      </searchParam>
      <searchParam>
        <name value="_source"/>
        <type value="uri"/>
        <documentation value="Search for resources which have the given source value (Resource.meta.source)"/>
      </searchParam>
      <searchParam>
        <name value="_tag"/>
        <type value="token"/>
        <documentation value="Search for resources which have the given tag"/>
      </searchParam>
      <searchParam>
        <name value="_text"/>
        <type value="string"/>
        <documentation value="Search the contents of the resource's narrative using a fulltext search"/>
      </searchParam>
      <searchParam>
        <name value="addresses"/>
        <type value="reference"/>
        <documentation value="What the goal addresses"/>
      </searchParam>
      <searchParam>
        <name value="category"/>
        <type value="token"/>
        <documentation value="E.g. Treatment, dietary, behavioral, etc."/>
      </searchParam>
      <searchParam>
        <name value="identifier"/>
        <type value="token"/>
        <documentation value="External Ids for this goal"/>
      </searchParam>
      <searchParam>
        <name value="lifecycle-status"/>
        <type value="token"/>
        <documentation value="proposed | accepted | planned | in-progress | on-target | ahead-of-target | behind-target | sustaining | achieved | on-hold | cancelled | entered-in-error | rejected"/>
      </searchParam>
      <searchParam>
        <name value="patient"/>
        <type value="reference"/>
        <documentation value="Who this goal is intended for"/>
      </searchParam>
      <searchParam>
        <name value="start-date"/>
        <type value="date"/>
        <documentation value="When goal pursuit begins"/>
      </searchParam>
      <searchParam>
        <name value="subject"/>
        <type value="reference"/>
        <documentation value="Who this goal is intended for"/>
      </searchParam>
      <searchParam>
        <name value="target-date"/>
        <type value="date"/>
        <documentation value="Reach goal on or before"/>
      </searchParam>
    </resource>
    <resource>
      <type value="OperationDefinition"/>
      <profile value="http://hl7.org/fhir/StructureDefinition/OperationDefinition"/>
      <interaction>
        <code value="read"/>
      </interaction>
      <searchInclude value="*"/>
      <searchRevInclude value="CarePlan:activity-reference"/>
      <searchRevInclude value="CarePlan:care-team"/>
      <searchRevInclude value="CarePlan:condition"/>
      <searchRevInclude value="CarePlan:episodeOfCare"/>
      <searchRevInclude value="CarePlan:goal"/>
      <searchRevInclude value="CarePlan:instantiates-canonical"/>
      <searchRevInclude value="CarePlan:part-of"/>
      <searchRevInclude value="CarePlan:participant-actor"/>
      <searchRevInclude value="CarePlan:patient"/>
      <searchRevInclude value="CommunicationRequest:based-on"/>
      <searchRevInclude value="CommunicationRequest:encounter"/>
      <searchRevInclude value="CommunicationRequest:episodeOfCare"/>
      <searchRevInclude value="CommunicationRequest:patient"/>
      <searchRevInclude value="CommunicationRequest:recipient"/>
      <searchRevInclude value="CommunicationRequest:replaces"/>
      <searchRevInclude value="CommunicationRequest:requester"/>
      <searchRevInclude value="CommunicationRequest:sender"/>
      <searchRevInclude value="CommunicationRequest:subject"/>
      <searchRevInclude value="Consent:actor"/>
      <searchRevInclude value="Consent:data"/>
      <searchRevInclude value="Consent:patient"/>
      <searchRevInclude value="EpisodeOfCare:condition"/>
      <searchRevInclude value="EpisodeOfCare:organization"/>
      <searchRevInclude value="EpisodeOfCare:participant-actor"/>
      <searchRevInclude value="EpisodeOfCare:patient"/>
      <searchRevInclude value="EpisodeOfCare:team"/>
      <searchRevInclude value="Goal:addresses"/>
      <searchRevInclude value="Goal:patient"/>
      <searchRevInclude value="Goal:subject"/>
      <searchRevInclude value="Provenance:target"/>
    </resource>
    <resource>
      <type value="Provenance"/>
      <profile value="http://ehealth.sundhed.dk/fhir/StructureDefinition/ehealth-provenance"/>
      <interaction>
        <code value="search-type"/>
      </interaction>
      <interaction>
        <code value="vread"/>
      </interaction>
      <interaction>
        <code value="read"/>
      </interaction>
      <searchRevInclude value="CarePlan:activity-reference"/>
      <searchRevInclude value="CarePlan:care-team"/>
      <searchRevInclude value="CarePlan:condition"/>
      <searchRevInclude value="CarePlan:episodeOfCare"/>
      <searchRevInclude value="CarePlan:goal"/>
      <searchRevInclude value="CarePlan:instantiates-canonical"/>
      <searchRevInclude value="CarePlan:part-of"/>
      <searchRevInclude value="CarePlan:participant-actor"/>
      <searchRevInclude value="CarePlan:patient"/>
      <searchRevInclude value="CommunicationRequest:based-on"/>
      <searchRevInclude value="CommunicationRequest:encounter"/>
      <searchRevInclude value="CommunicationRequest:episodeOfCare"/>
      <searchRevInclude value="CommunicationRequest:patient"/>
      <searchRevInclude value="CommunicationRequest:recipient"/>
      <searchRevInclude value="CommunicationRequest:replaces"/>
      <searchRevInclude value="CommunicationRequest:requester"/>
      <searchRevInclude value="CommunicationRequest:sender"/>
      <searchRevInclude value="CommunicationRequest:subject"/>
      <searchRevInclude value="Consent:actor"/>
      <searchRevInclude value="Consent:data"/>
      <searchRevInclude value="Consent:patient"/>
      <searchRevInclude value="EpisodeOfCare:condition"/>
      <searchRevInclude value="EpisodeOfCare:organization"/>
      <searchRevInclude value="EpisodeOfCare:participant-actor"/>
      <searchRevInclude value="EpisodeOfCare:patient"/>
      <searchRevInclude value="EpisodeOfCare:team"/>
      <searchRevInclude value="Goal:addresses"/>
      <searchRevInclude value="Goal:patient"/>
      <searchRevInclude value="Goal:subject"/>
      <searchRevInclude value="Provenance:target"/>
      <searchParam>
        <name value="target"/>
        <type value="reference"/>
        <documentation value="Target Reference(s) (usually version specific)"/>
      </searchParam>
      <searchParam>
        <name value="_tag"/>
        <type value="token"/>
        <documentation value="Search for resources which have the given tag"/>
      </searchParam>
      <operation>
        <name value="validate"/>
        <definition value="https://careplan.devtest.systematic-ehealth.com/fhir/OperationDefinition/Multi-it-validate"/>
      </operation>
    </resource>
    <resource>
      <type value="ServiceRequest"/>
      <profile value="http://ehealth.sundhed.dk/fhir/StructureDefinition/ehealth-servicerequest"/>
      <interaction>
        <code value="update"/>
      </interaction>
      <interaction>
        <code value="vread"/>
      </interaction>
      <interaction>
        <code value="read"/>
      </interaction>
      <conditionalUpdate value="true"/>
      <searchInclude value="*"/>
      <searchRevInclude value="CarePlan:activity-reference"/>
      <searchRevInclude value="CarePlan:care-team"/>
      <searchRevInclude value="CarePlan:condition"/>
      <searchRevInclude value="CarePlan:episodeOfCare"/>
      <searchRevInclude value="CarePlan:goal"/>
      <searchRevInclude value="CarePlan:instantiates-canonical"/>
      <searchRevInclude value="CarePlan:part-of"/>
      <searchRevInclude value="CarePlan:participant-actor"/>
      <searchRevInclude value="CarePlan:patient"/>
      <searchRevInclude value="CommunicationRequest:based-on"/>
      <searchRevInclude value="CommunicationRequest:encounter"/>
      <searchRevInclude value="CommunicationRequest:episodeOfCare"/>
      <searchRevInclude value="CommunicationRequest:patient"/>
      <searchRevInclude value="CommunicationRequest:recipient"/>
      <searchRevInclude value="CommunicationRequest:replaces"/>
      <searchRevInclude value="CommunicationRequest:requester"/>
      <searchRevInclude value="CommunicationRequest:sender"/>
      <searchRevInclude value="CommunicationRequest:subject"/>
      <searchRevInclude value="Consent:actor"/>
      <searchRevInclude value="Consent:data"/>
      <searchRevInclude value="Consent:patient"/>
      <searchRevInclude value="EpisodeOfCare:condition"/>
      <searchRevInclude value="EpisodeOfCare:organization"/>
      <searchRevInclude value="EpisodeOfCare:participant-actor"/>
      <searchRevInclude value="EpisodeOfCare:patient"/>
      <searchRevInclude value="EpisodeOfCare:team"/>
      <searchRevInclude value="Goal:addresses"/>
      <searchRevInclude value="Goal:patient"/>
      <searchRevInclude value="Goal:subject"/>
      <searchRevInclude value="Provenance:target"/>
      <operation>
        <name value="validate"/>
        <definition value="https://careplan.devtest.systematic-ehealth.com/fhir/OperationDefinition/Multi-it-validate"/>
      </operation>
    </resource>
    <operation>
      <name value="migrate"/>
      <definition value="https://careplan.devtest.systematic-ehealth.com/fhir/OperationDefinition/-s-migrate"/>
      <documentation value="Data migration"/>
    </operation>
    <operation>
      <name value="get-patient-procedures"/>
      <definition value="https://careplan.devtest.systematic-ehealth.com/fhir/OperationDefinition/-s-get-patient-procedures"/>
      <documentation value="This operation returns an overview of patient activities within a time period and filtered by either EpisodeOfCare or Condition code(s). On success, the returned Bundle contains a Parameters structure detailing the count of measurements received and expected. This is done per ServiceRequest with status active for those part of a CarePlan with status active related to eligible EpisodeOfCare resources. Eligible EpisodeOfCare are those with status active that refer to the given Patient and are either given as EpisodeOfCare reference in input or are referencing a Condition with a condition code that matches at least one of the Condition codes possibly given as input. The measurement regime expressed in ServiceRequest.occurrence[x] is, when possible, resolved to time slot(s) corresponding to datetime/period where an action is supposed to take place, typically performed by the Patient. When the occurrenceTiming variant is used, resolved time slots overlapping with the input time periode are considered. For occurrenceTiming expression which are either adhoc or unresolved, the effective datetime/period of a measurement is considered when checked for overlap with input time period.&#xD;&#xA;## Input&#xD;&#xA;The operation has three mandatory inputs, a Patient reference, a start date and an end date. Additionally the operation has three optional inputs: a list of reference(s) to EpisodeOfCare, a list of Codings for Condition and a list of Codings for tags.&#xD;&#xA;### Patient reference&#xD;&#xA;Mandatory reference for the Patient which the procedure overview is computed for.&#xD;&#xA;### Start and end datetimes&#xD;&#xA;Start and end datetime are both mandatory, and together specify the period of interest in the patient procedure overview. As stated above, for resolvable past and future time slots as well as adhoc and unresolved timings there must overlap with this period.&#xD;&#xA;### EpisodeOfCare list&#xD;&#xA;The list of EpisodeOfCare references is optional. If EpisodeOfCare are provided, these will be used to further filter which active EpisodeOfCare, CarePlan and ServiceRequest are considered for the patient procedure overview.&#xD;&#xA;### Condition Coding list&#xD;&#xA;The list of Coding for Condition is optional. If Condition Coding are provided, the EpisodeOfCare considered are those referring to a Condition matching at least one of the codes in the list. As above, the EpisodeOfCare (one or more) considered further determines which active EpisodeOfCare, CarePlan and ServiceRequest are considered.&#xD;&#xA;### Tag Coding list&#xD;&#xA;The list of Coding for tags is optional. If tag Coding are provided, the EpisodeOfCare considered are those including a tag matching at least one of the codes in the list. As above, both the Condition (one or more) and EpisodeOfCare (one or more) considered further determines which active EpisodeOfCare, CarePlan and ServiceRequest are considered.&#xD;&#xA;### Extra boolean&#xD;&#xA;This is an optional parameter that can be set to true if activities allowing 'Extra' submissions should be included in the response. Whether the ServiceRequest is included when Extra paremeter is set to true, is based on the ServiceRequest.includeAsExtra field.&#xD;&#xA;## Output&#xD;&#xA;For valid inputs, the server will compute and return a Bundle. The Bundle contains a Parameters resource with resolved measurement regimes and associated counts of measurement submitted and counts expected. Such counts are also included in the Parameters structure when the measurement regime is either adhoc or unresolved. In addition, the Bundle contains CarePlan and ServiceRequest referenced in the Parameters. The Bundle can contain an OperationOutcome describing any encountered warnings.&#xD;&#xA;### Output Parameters&#xD;&#xA;The output contains rows (encoded in parameters) for each matching and active ServiceRequest with resolved timings overlapping with the requested period. &#xD;&#xA;&#xD;&#xA;Rows are represented as Parameters.parameter with names: item_1, item_2, etc. Columns are represented as Parameters.parameter.part with name and value &#xD;&#xA;```&#xD;&#xA;Example:&#xD;&#xA;'resource': {&#xD;&#xA;    'resourceType': 'Parameters',&#xD;&#xA;    'parameter': [{&#xD;&#xA;            'name': 'item_1',&#xD;&#xA;            'part': [{&#xD;&#xA;                    'name': 'CarePlan',&#xD;&#xA;                    'valueReference': {&#xD;&#xA;                        'reference': 'https://careplan.devtest.systematic-ehealth.com/fhir/CarePlan/164581'&#xD;&#xA;                    }&#xD;&#xA;            }]&#xD;&#xA;    }]&#xD;&#xA;}&#xD;&#xA; ```&#xD;&#xA;&#xD;&#xA;### Columns&#xD;&#xA;&#xD;&#xA;- CarePlan: Reference to the CarePlan that the ServiceRequest belongs to.&#xD;&#xA;- ServiceRequest: Reference to the ServiceRequest.&#xD;&#xA;- ServiceRequestVersionId: The version of the ServiceRequest (version specified at time of submit-measurement or the current version (for expected activities)).&#xD;&#xA;- Activity: Description of the planned activity.&#xD;&#xA;- ResolvedTimingStart: A planned start time for the activity in the requested period.&#xD;&#xA;- ResolvedTimingEnd: A planned end time for the activity in the requested period. May be identical to start if no duration is specified in the measurement regime.&#xD;&#xA;- TotalSubmitted: The number of measurements already submitted for this ServiceRequest and resolved timing.&#xD;&#xA;- SubmittedTimely: The number of measurements where the measurement time matches the resolved timing.&#xD;&#xA;- TimingType:&#xD;&#xA;    * Resolved: a measurement regime that is supported by the infrastructure and where resolved timing and requested number of measurements can be calculated.&#xD;&#xA;    * Unresolved: a measurement regime that is not supported by the infrastructure. Resolved Timing Start, end, submitted timely and Occurrences requested will be empty.&#xD;&#xA;    * Adhoc: A ServiceRequest without a measurement regime or a measurement regime stating ad-hoc.&#xD;&#xA;    * Extra: The service request may be performed outside the resolved timing.&#xD;&#xA;- OccurrencesRequested: Expected number of measurements.&#xD;&#xA;- TotalInvalidated: Number of measurements which are invalidated."/>
    </operation>
    <operation>
      <name value="create-episode-of-care"/>
      <definition value="https://careplan.devtest.systematic-ehealth.com/fhir/OperationDefinition/-s-create-episode-of-care"/>
      <documentation value="This operation persists an EpisodeOfCare based on the transient value of an EpisodeOfCare provided in the input.&#xD;&#xA;## Input&#xD;&#xA;The input is a Bundle which must contain exactly one EpisodeOfCare, conditions referenced in diagnosis list and at least one Provenance resource. All Provenances in the input must have the EpisodeOfCare as target. At least one Provenance must be interpreted into a 'Privacy-provenance' (see below).&#xD;&#xA;### The EpisodeOfCare resource&#xD;&#xA;The EpisodeOfCare has to have `PLANNED` status &#xD;&#xA;The 'id' property of the EpisodeOfCare will be reassigned by the server, but can be referenced by other resources in the same bundle. &#xD;&#xA;The 'managingOrganization' property of the EpisodeOfCare references the GDPR Data Controller (Danish: 'Dataansvarlig').&#xD;&#xA;### The privacy-Provenance resource&#xD;&#xA;A privacy-Provenance is a Provenance resource characterized by having at least one entry in Provenance.policy which data are transported, stored, or processed in the system. Possible values are:&#xD;&#xA;- 'http://ehealth.sundhed.dk/policy/dk/sundhedsloven'&#xD;&#xA;- 'http://ehealth.sundhed.dk/policy/dk/serviceloven'&#xD;&#xA;### Diagnosis referenced Condition resource&#xD;&#xA;For any diagnosis listed, the referenced Condition must be concerning the same Patient as the EpisodeOfCare.&#xD;&#xA;## Output&#xD;&#xA;For valid inputs, the server will create, persist and return a new EpisodeOfCare, client-supplied provenances, conditions and origin-provenance carrying a server-assigned ids.&#xD;&#xA;To get resources bodies in the output the request header has to contain parameter ```Prefer: return=representation```.&#xD;&#xA;## Validation&#xD;&#xA;- Patient.deceased must be false to create episode of care&#xD;&#xA;### The origin-Provenance resource&#xD;&#xA;Whenever an EpisodeOfCare is created, the server automatically creates an 'origin' Provenance resource point to it (in addition to the client-supplied Privacy-Provenance). This Origin-Provenance resource is filled with data from the JWT access token in order to record the origin of the EpisodeOfCare resource. For instance agent.whoReference points to a resource which is created as a shadow identity from the JWT token."/>
    </operation>
    <operation>
      <name value="apply"/>
      <definition value="https://careplan.devtest.systematic-ehealth.com/fhir/OperationDefinition/-s-apply"/>
      <documentation value="This operation creates a careplan for a specific episodeOfCare using this PlanDefinition as a template."/>
    </operation>
    <operation>
      <name value="reindex-terminology"/>
      <definition value="https://careplan.devtest.systematic-ehealth.com/fhir/OperationDefinition/-s-reindex-terminology"/>
    </operation>
    <operation>
      <name value="meta"/>
      <definition value="https://careplan.devtest.systematic-ehealth.com/fhir/OperationDefinition/-s-meta"/>
    </operation>
    <operation>
      <name value="get-resource-counts"/>
      <definition value="https://careplan.devtest.systematic-ehealth.com/fhir/OperationDefinition/-s-get-resource-counts"/>
      <documentation value="Provides the number of resources currently stored on the server, broken down by resource type"/>
    </operation>
  </rest>
</CapabilityStatement>